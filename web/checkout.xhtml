<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:body>
        <ui:composition template="/WEB-INF/shared/mainTemplate.xhtml">
            <ui:define name="styles">
                <h:outputStylesheet name="css/cart.css"/>
            </ui:define>
            <ui:define name="title">
                Checkout
            </ui:define>
            <ui:define name="content">
                <div id="paypal-btns-container">

                </div>
            </ui:define>

            <ui:define name="scripts">
                <script
                    src="https://www.paypal.com/sdk/js?client-id=Ae-Z7bYxk3DQcqiszZjVsTS3BHiEJ5Ya7hdbXaxxqWMQyt0Y2uPKz2Gbzn1gTX5q-pIU9rhfdAnqeFb1">
                </script>
                <script>
                    paypal.Buttons({
                        createOrder: function (data, actions) {
                            // This function sets up the details of the transaction, including the amount and line item details.
                            return actions.order.create({
                                purchase_units: [{
                                        amount: {
                                            value: '0.01'
                                        }
                                    }]
                            });
                        },
                        onApprove: function (data, actions) {
                            // This function captures the funds from the transaction.
                            return actions.order.capture().then(function (details) {
                                // This function shows a transaction success message to your buyer.
                                alert('Transaction completed by ' + details.payer.name.given_name);
                            });
                        }
                    }).render('#paypal-btns-container');
                </script>
            </ui:define>
        </ui:composition>
    </h:body>
</html>

